<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <div id="app">
      <button v-on:click="coke">コーラ</button>
      <button v-on:click="coin">１００円</button>
      <button v-on:click="change">お釣り</button>
      <div>投入金額</div>
      <div>{{display}}</div>
      <div>お財布</div>
      <div>{{display2}}</div>
      <div v-for="result in results">
        <!-- <div>{{result.id}}</div> -->
        <!-- <div>{{result.text}}</div> -->
        <div>{{result.id +":"+ result.text}}</div>
        <!-- <div>{{value}}</div> -->
      </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
    <script>
      const app = new Vue({
        el: "#app",
        data: {
          display: 0,
          display2: 1000,
          results: [{ id: 0, text: "お金を入れてください" }],
        },
        computed: {
          value: function() {
            return (
              this.results[0].id +
              " " +
              this.results[0].text +
              " " +
              this.display
            )
          },
        },
        methods: {
          coke: function() {
            if (this.display >= 100) {
              this.display = this.display - 100
              this.results.push({
                id: this.results.length,
                text: "コーラを買いました",
              })
            } else {
              this.results.push({
                id: this.results.length,
                text: "金額が足りません",
              })
            }
          },
          coin: function() {
            this.display = this.display + 100
            this.display2 = this.display2 - 100
          },
          change: function() {
            this.results.push({
              id: this.results.length,
              text: this.display + "円出ました",
            })
            this.display2 = this.display2 + this.display
            this.display = 0
          },
        },
      })
      /*
      const coke = document.getElementById("coke")
      const addHundred = document.getElementById("100yen")
      const change = document.getElementById("change")
      const display = document.getElementById("display")
      const display2 = document.getElementById("display2")

      let tounyukingaku = 0
      let osaifu = 1000

      const setDisplay = function(a, b) {
        display.textContent = a
        display2.textContent = b
      }
      setDisplay(tounyukingaku, osaifu)

      coke.onclick = function() {
        if (tounyukingaku >= 100) {
          tounyukingaku = tounyukingaku - 100
          alert("コーラを購入しました")
        } else {
          alert("金額が足りません")
        }
        setDisplay(tounyukingaku, osaifu)
      }

      addHundred.onclick = function() {
        tounyukingaku = tounyukingaku + 100
        osaifu = osaifu - 100
        setDisplay(tounyukingaku, osaifu)
      }
      change.onclick = function() {
        alert(tounyukingaku + "円出ました")
        osaifu = osaifu + tounyukingaku
        tounyukingaku = 0
        setDisplay(tounyukingaku, osaifu)
      }*/
    </script>
  </body>
</html>
